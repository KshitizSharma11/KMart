{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, get } from 'firebase/database';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDhsB4mw--bg4Rp8YJ73k8T4awfcL4Z7zw\",\n  authDomain: \"k-mart-1cf75.firebaseapp.com\",\n  databaseURL: \"https://k-mart-1cf75-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"k-mart-1cf75\",\n  storageBucket: \"k-mart-1cf75.appspot.com\",\n  messagingSenderId: \"43837954833\",\n  appId: \"1:43837954833:web:768248a59daa6d05704ab0\"\n};\nvar firebaseApp = initializeApp(firebaseConfig);\nvar db = getDatabase(firebaseApp);\nvar ProductList = function ProductList(_ref) {\n  var selectedCategory = _ref.selectedCategory;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    products = _useState2[0],\n    setProducts = _useState2[1];\n  var screenWidth = Dimensions.get('window').width;\n  var numColumns = screenWidth > 600 ? 3 : 1;\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    hoverStates = _useState4[0],\n    setHoverStates = _useState4[1];\n  useEffect(function () {\n    var productsRef = ref(db, 'products');\n    get(productsRef).then(function (snapshot) {\n      if (snapshot.exists()) {\n        var data = snapshot.val();\n        if (data) {\n          var productArray = Object.values(data);\n          var filteredProducts = selectedCategory === 'Home' ? productArray : productArray.filter(function (product) {\n            return product.category === selectedCategory;\n          });\n          setProducts(filteredProducts);\n          setHoverStates(filteredProducts.map(function () {\n            return false;\n          }));\n        }\n      } else {\n        setProducts([]);\n        setHoverStates([]);\n      }\n    }).catch(function (error) {\n      console.error('Error fetching data:', error);\n    });\n  }, [selectedCategory]);\n  var handleAddToCartClick = function handleAddToCartClick(index) {};\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: products,\n      keyExtractor: function keyExtractor(item) {\n        return item.name;\n      },\n      numColumns: numColumns,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item,\n          index = _ref2.index;\n        return _jsxs(View, {\n          style: styles.productCard,\n          children: [_jsx(Image, {\n            source: {\n              uri: item.photo\n            },\n            style: styles.productImage\n          }), _jsx(Text, {\n            style: styles.productName,\n            children: item.name\n          }), _jsxs(Text, {\n            style: styles.productPrice,\n            children: [\"INR \", item.price]\n          }), _jsx(TouchableOpacity, {\n            style: [styles.Button, hoverStates[index] && {\n              backgroundColor: 'orange',\n              borderColor: 'white'\n            }],\n            onPress: function onPress() {\n              return handleAddToCartClick(index);\n            },\n            onPressIn: function onPressIn() {\n              var updatedHoverStates = _toConsumableArray(hoverStates);\n              updatedHoverStates[index] = true;\n              setHoverStates(updatedHoverStates);\n            },\n            onPressOut: function onPressOut() {\n              var updatedHoverStates = _toConsumableArray(hoverStates);\n              updatedHoverStates[index] = false;\n              setHoverStates(updatedHoverStates);\n            },\n            children: _jsx(Text, {\n              style: {\n                fontWeight: 600,\n                color: hoverStates[index] ? 'white' : 'black'\n              },\n              children: \"Add To Cart\"\n            })\n          })]\n        });\n      }\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16\n  },\n  productCard: {\n    flex: 1,\n    padding: 16,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    margin: 2\n  },\n  productImage: {\n    width: '100%',\n    height: 200\n  },\n  productName: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginVertical: 10\n  },\n  productPrice: {\n    fontSize: 16\n  },\n  Button: {\n    marginTop: 4,\n    alignItems: 'center',\n    padding: 3,\n    borderRadius: 4,\n    borderWidth: 2,\n    borderColor: 'orange',\n    fontWeight: '700'\n  }\n});\nexport default ProductList;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Image","FlatList","StyleSheet","Dimensions","TouchableOpacity","initializeApp","getDatabase","ref","get","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseApp","db","ProductList","_ref","selectedCategory","_useState","_useState2","_slicedToArray","products","setProducts","screenWidth","width","numColumns","_useState3","_useState4","hoverStates","setHoverStates","productsRef","then","snapshot","exists","data","val","productArray","Object","values","filteredProducts","filter","product","category","map","catch","error","console","handleAddToCartClick","index","style","styles","container","children","keyExtractor","item","name","renderItem","_ref2","productCard","source","uri","photo","productImage","productName","productPrice","price","Button","backgroundColor","borderColor","onPress","onPressIn","updatedHoverStates","_toConsumableArray","onPressOut","fontWeight","color","create","flex","padding","borderWidth","margin","height","fontSize","marginVertical","marginTop","alignItems","borderRadius"],"sources":["C:/Users/hp/OneDrive/Desktop/react/ecommerce/Ecom/components/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, Image, FlatList, StyleSheet, Dimensions, TouchableOpacity } from 'react-native';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, get } from 'firebase/database';\r\n\r\n// Initialize Firebase with your config\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDhsB4mw--bg4Rp8YJ73k8T4awfcL4Z7zw\",\r\n  authDomain: \"k-mart-1cf75.firebaseapp.com\",\r\n  databaseURL: \"https://k-mart-1cf75-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"k-mart-1cf75\",\r\n  storageBucket: \"k-mart-1cf75.appspot.com\",\r\n  messagingSenderId: \"43837954833\",\r\n  appId: \"1:43837954833:web:768248a59daa6d05704ab0\"\r\n};\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nconst db = getDatabase(firebaseApp);\r\n\r\nconst ProductList = ({ selectedCategory }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const numColumns = screenWidth > 600 ? 3 : 1;\r\n  const [hoverStates, setHoverStates] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Reference to the \"products\" node in your database\r\n    const productsRef = ref(db, 'products');\r\n\r\n    // Fetch the products\r\n    get(productsRef)\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const data = snapshot.val();\r\n          if (data) {\r\n            const productArray = Object.values(data);\r\n\r\n            // Filter products based on the selected category\r\n            const filteredProducts = selectedCategory === 'Home'\r\n              ? productArray\r\n              : productArray.filter(product => product.category === selectedCategory);\r\n\r\n            setProducts(filteredProducts);\r\n\r\n            // Initialize hover states for each product to false\r\n            setHoverStates(filteredProducts.map(() => false));\r\n          }\r\n        } else {\r\n          // No data found\r\n          setProducts([]);\r\n          setHoverStates([]);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n  }, [selectedCategory]);\r\n\r\n  const handleAddToCartClick = (index) => {\r\n    // Handle the \"Add To Cart\" action for the product at the given index\r\n    // You can implement your cart logic here\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={products}\r\n        keyExtractor={(item) => item.name}\r\n        numColumns={numColumns}\r\n        renderItem={({ item, index }) => (\r\n          <View style={styles.productCard}>\r\n            <Image source={{ uri: item.photo }} style={styles.productImage} />\r\n            <Text style={styles.productName}>{item.name}</Text>\r\n            <Text style={styles.productPrice}>INR {item.price}</Text>\r\n            <TouchableOpacity\r\n              style={[\r\n                styles.Button,\r\n                hoverStates[index] && {\r\n                  backgroundColor: 'orange',\r\n                  borderColor: 'white',\r\n                },\r\n              ]}\r\n              onPress={() => handleAddToCartClick(index)}\r\n              onPressIn={() => {\r\n                const updatedHoverStates = [...hoverStates];\r\n                updatedHoverStates[index] = true;\r\n                setHoverStates(updatedHoverStates);\r\n              }}\r\n              onPressOut={() => {\r\n                const updatedHoverStates = [...hoverStates];\r\n                updatedHoverStates[index] = false;\r\n                setHoverStates(updatedHoverStates);\r\n              }}\r\n            >\r\n              <Text style={{ fontWeight: 600, color: hoverStates[index] ? 'white' : 'black' }}>Add To Cart</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  productCard: {\r\n    flex: 1,\r\n    padding: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    margin: 2,\r\n  },\r\n  productImage: {\r\n    width: '100%',\r\n    height: 200,\r\n  },\r\n  productName: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginVertical: 10,\r\n  },\r\n  productPrice: {\r\n    fontSize: 16,\r\n  },\r\n  Button: {\r\n    marginTop: 4,\r\n    alignItems: 'center',\r\n    padding: 3,\r\n    borderRadius: 4,\r\n    borderWidth: 2,\r\n    borderColor: 'orange',\r\n    fontWeight: '700',\r\n  },\r\n});\r\n\r\nexport default ProductList;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAEnD,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,WAAW,EAAEC,GAAG,EAAEC,GAAG,QAAQ,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAG1D,IAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,8BAA8B;EAC1CC,WAAW,EAAE,wEAAwE;EACrFC,SAAS,EAAE,cAAc;EACzBC,aAAa,EAAE,0BAA0B;EACzCC,iBAAiB,EAAE,aAAa;EAChCC,KAAK,EAAE;AACT,CAAC;AAED,IAAMC,WAAW,GAAGhB,aAAa,CAACQ,cAAc,CAAC;AACjD,IAAMS,EAAE,GAAGhB,WAAW,CAACe,WAAW,CAAC;AAEnC,IAAME,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAA6B;EAAA,IAAvBC,gBAAgB,GAAAD,IAAA,CAAhBC,gBAAgB;EACrC,IAAAC,SAAA,GAAgC9B,QAAQ,CAAC,EAAE,CAAC;IAAA+B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAMI,WAAW,GAAG5B,UAAU,CAACK,GAAG,CAAC,QAAQ,CAAC,CAACwB,KAAK;EAClD,IAAMC,UAAU,GAAGF,WAAW,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;EAC5C,IAAAG,UAAA,GAAsCtC,QAAQ,CAAC,EAAE,CAAC;IAAAuC,UAAA,GAAAP,cAAA,CAAAM,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAElCtC,SAAS,CAAC,YAAM;IAEd,IAAMyC,WAAW,GAAG/B,GAAG,CAACe,EAAE,EAAE,UAAU,CAAC;IAGvCd,GAAG,CAAC8B,WAAW,CAAC,CACbC,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClB,IAAIA,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;QACrB,IAAMC,IAAI,GAAGF,QAAQ,CAACG,GAAG,CAAC,CAAC;QAC3B,IAAID,IAAI,EAAE;UACR,IAAME,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACJ,IAAI,CAAC;UAGxC,IAAMK,gBAAgB,GAAGtB,gBAAgB,KAAK,MAAM,GAChDmB,YAAY,GACZA,YAAY,CAACI,MAAM,CAAC,UAAAC,OAAO;YAAA,OAAIA,OAAO,CAACC,QAAQ,KAAKzB,gBAAgB;UAAA,EAAC;UAEzEK,WAAW,CAACiB,gBAAgB,CAAC;UAG7BV,cAAc,CAACU,gBAAgB,CAACI,GAAG,CAAC;YAAA,OAAM,KAAK;UAAA,EAAC,CAAC;QACnD;MACF,CAAC,MAAM;QAELrB,WAAW,CAAC,EAAE,CAAC;QACfO,cAAc,CAAC,EAAE,CAAC;MACpB;IACF,CAAC,CAAC,CACDe,KAAK,CAAC,UAACC,KAAK,EAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC,EAAE,CAAC5B,gBAAgB,CAAC,CAAC;EAEtB,IAAM8B,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIC,KAAK,EAAK,CAGxC,CAAC;EAED,OACE9C,IAAA,CAACZ,IAAI;IAAC2D,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAC5BlD,IAAA,CAACT,QAAQ;MACPyC,IAAI,EAAEb,QAAS;MACfgC,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAAKA,IAAI,CAACC,IAAI;MAAA,CAAC;MAClC9B,UAAU,EAAEA,UAAW;MACvB+B,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGH,IAAI,GAAAG,KAAA,CAAJH,IAAI;UAAEN,KAAK,GAAAS,KAAA,CAALT,KAAK;QAAA,OACxB5C,KAAA,CAACd,IAAI;UAAC2D,KAAK,EAAEC,MAAM,CAACQ,WAAY;UAAAN,QAAA,GAC9BlD,IAAA,CAACV,KAAK;YAACmE,MAAM,EAAE;cAAEC,GAAG,EAAEN,IAAI,CAACO;YAAM,CAAE;YAACZ,KAAK,EAAEC,MAAM,CAACY;UAAa,CAAE,CAAC,EAClE5D,IAAA,CAACX,IAAI;YAAC0D,KAAK,EAAEC,MAAM,CAACa,WAAY;YAAAX,QAAA,EAAEE,IAAI,CAACC;UAAI,CAAO,CAAC,EACnDnD,KAAA,CAACb,IAAI;YAAC0D,KAAK,EAAEC,MAAM,CAACc,YAAa;YAAAZ,QAAA,GAAC,MAAI,EAACE,IAAI,CAACW,KAAK;UAAA,CAAO,CAAC,EACzD/D,IAAA,CAACN,gBAAgB;YACfqD,KAAK,EAAE,CACLC,MAAM,CAACgB,MAAM,EACbtC,WAAW,CAACoB,KAAK,CAAC,IAAI;cACpBmB,eAAe,EAAE,QAAQ;cACzBC,WAAW,EAAE;YACf,CAAC,CACD;YACFC,OAAO,EAAE,SAAAA,QAAA;cAAA,OAAMtB,oBAAoB,CAACC,KAAK,CAAC;YAAA,CAAC;YAC3CsB,SAAS,EAAE,SAAAA,UAAA,EAAM;cACf,IAAMC,kBAAkB,GAAAC,kBAAA,CAAO5C,WAAW,CAAC;cAC3C2C,kBAAkB,CAACvB,KAAK,CAAC,GAAG,IAAI;cAChCnB,cAAc,CAAC0C,kBAAkB,CAAC;YACpC,CAAE;YACFE,UAAU,EAAE,SAAAA,WAAA,EAAM;cAChB,IAAMF,kBAAkB,GAAAC,kBAAA,CAAO5C,WAAW,CAAC;cAC3C2C,kBAAkB,CAACvB,KAAK,CAAC,GAAG,KAAK;cACjCnB,cAAc,CAAC0C,kBAAkB,CAAC;YACpC,CAAE;YAAAnB,QAAA,EAEFlD,IAAA,CAACX,IAAI;cAAC0D,KAAK,EAAE;gBAAEyB,UAAU,EAAE,GAAG;gBAAEC,KAAK,EAAE/C,WAAW,CAACoB,KAAK,CAAC,GAAG,OAAO,GAAG;cAAQ,CAAE;cAAAI,QAAA,EAAC;YAAW,CAAM;UAAC,CACnF,CAAC;QAAA,CACf,CAAC;MAAA;IACP,CACH;EAAC,CACE,CAAC;AAEX,CAAC;AAED,IAAMF,MAAM,GAAGxD,UAAU,CAACkF,MAAM,CAAC;EAC/BzB,SAAS,EAAE;IACT0B,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE;EACX,CAAC;EACDpB,WAAW,EAAE;IACXmB,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE,CAAC;IACdX,WAAW,EAAE,MAAM;IACnBY,MAAM,EAAE;EACV,CAAC;EACDlB,YAAY,EAAE;IACZtC,KAAK,EAAE,MAAM;IACbyD,MAAM,EAAE;EACV,CAAC;EACDlB,WAAW,EAAE;IACXmB,QAAQ,EAAE,EAAE;IACZR,UAAU,EAAE,MAAM;IAClBS,cAAc,EAAE;EAClB,CAAC;EACDnB,YAAY,EAAE;IACZkB,QAAQ,EAAE;EACZ,CAAC;EACDhB,MAAM,EAAE;IACNkB,SAAS,EAAE,CAAC;IACZC,UAAU,EAAE,QAAQ;IACpBP,OAAO,EAAE,CAAC;IACVQ,YAAY,EAAE,CAAC;IACfP,WAAW,EAAE,CAAC;IACdX,WAAW,EAAE,QAAQ;IACrBM,UAAU,EAAE;EACd;AACF,CAAC,CAAC;AAEF,eAAe3D,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}