{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{initializeApp}from'firebase/app';import{getDatabase,ref,get}from'firebase/database';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firebaseConfig={apiKey:\"AIzaSyDhsB4mw--bg4Rp8YJ73k8T4awfcL4Z7zw\",authDomain:\"k-mart-1cf75.firebaseapp.com\",databaseURL:\"https://k-mart-1cf75-default-rtdb.asia-southeast1.firebasedatabase.app\",projectId:\"k-mart-1cf75\",storageBucket:\"k-mart-1cf75.appspot.com\",messagingSenderId:\"43837954833\",appId:\"1:43837954833:web:768248a59daa6d05704ab0\"};var firebaseApp=initializeApp(firebaseConfig);var db=getDatabase(firebaseApp);var ProductList=function ProductList(_ref){var selectedCategory=_ref.selectedCategory,cartItems=_ref.cartItems,addToCart=_ref.addToCart;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var screenWidth=Dimensions.get('window').width;var numColumns=screenWidth>600?3:1;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),hoverStates=_useState4[0],setHoverStates=_useState4[1];useEffect(function(){var productsRef=ref(db,'products');get(productsRef).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();if(data){var productArray=Object.values(data);var filteredProducts=selectedCategory==='Home'?productArray:productArray.filter(function(product){return product.category===selectedCategory;});setProducts(filteredProducts);setHoverStates(filteredProducts.map(function(){return false;}));}}else{setProducts([]);setHoverStates([]);}}).catch(function(error){console.error('Error fetching data:',error);});},[selectedCategory]);var handleAddToCartClick=function handleAddToCartClick(product,index){addToCart(product);};return _jsx(View,{style:styles.container,children:_jsx(FlatList,{data:products,keyExtractor:function keyExtractor(item){return item.name;},numColumns:numColumns,renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;return _jsxs(View,{style:styles.productCard,children:[_jsx(Image,{source:{uri:item.photo},style:styles.productImage}),_jsx(Text,{style:styles.productName,children:item.name}),_jsxs(Text,{style:styles.productPrice,children:[\"INR \",item.price]}),_jsx(TouchableOpacity,{style:[styles.Button,hoverStates[index]&&{backgroundColor:'orange',borderColor:'white'}],onPress:function onPress(){return handleAddToCartClick(item,index);},onPressIn:function onPressIn(){var updatedHoverStates=_toConsumableArray(hoverStates);updatedHoverStates[index]=true;setHoverStates(updatedHoverStates);},onPressOut:function onPressOut(){var updatedHoverStates=_toConsumableArray(hoverStates);updatedHoverStates[index]=false;setHoverStates(updatedHoverStates);},children:_jsx(Text,{style:{fontWeight:'600',color:hoverStates[index]?'white':'black'},children:\"Add To Cart\"})})]});}})});};var styles=StyleSheet.create({container:{flex:1,padding:16},productCard:{flex:1,padding:16,borderWidth:1,borderColor:'#ccc',margin:2},productImage:{width:'100%',height:200},productName:{fontSize:18,fontWeight:'bold',marginVertical:10},productPrice:{fontSize:16},Button:{marginTop:4,alignItems:'center',padding:3,borderRadius:4,borderWidth:2,borderColor:'orange',fontWeight:'700'}});export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Image","FlatList","StyleSheet","Dimensions","TouchableOpacity","initializeApp","getDatabase","ref","get","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseApp","db","ProductList","_ref","selectedCategory","cartItems","addToCart","_useState","_useState2","_slicedToArray","products","setProducts","screenWidth","width","numColumns","_useState3","_useState4","hoverStates","setHoverStates","productsRef","then","snapshot","exists","data","val","productArray","Object","values","filteredProducts","filter","product","category","map","catch","error","console","handleAddToCartClick","index","style","styles","container","children","keyExtractor","item","name","renderItem","_ref2","productCard","source","uri","photo","productImage","productName","productPrice","price","Button","backgroundColor","borderColor","onPress","onPressIn","updatedHoverStates","_toConsumableArray","onPressOut","fontWeight","color","create","flex","padding","borderWidth","margin","height","fontSize","marginVertical","marginTop","alignItems","borderRadius"],"sources":["C:/Users/hp/OneDrive/Desktop/react/ecommerce/Ecom/components/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, Image, FlatList, StyleSheet, Dimensions, TouchableOpacity } from 'react-native';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, get } from 'firebase/database';\r\n\r\n// Initialize Firebase with your config\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDhsB4mw--bg4Rp8YJ73k8T4awfcL4Z7zw\",\r\n  authDomain: \"k-mart-1cf75.firebaseapp.com\",\r\n  databaseURL: \"https://k-mart-1cf75-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"k-mart-1cf75\",\r\n  storageBucket: \"k-mart-1cf75.appspot.com\",\r\n  messagingSenderId: \"43837954833\",\r\n  appId: \"1:43837954833:web:768248a59daa6d05704ab0\"\r\n};\r\n\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\nconst db = getDatabase(firebaseApp);\r\n\r\nconst ProductList = ({ selectedCategory, cartItems, addToCart }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const numColumns = screenWidth > 600 ? 3 : 1;\r\n  const [hoverStates, setHoverStates] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Reference to the \"products\" node in your database\r\n    const productsRef = ref(db, 'products');\r\n\r\n    // Fetch the products\r\n    get(productsRef)\r\n      .then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          const data = snapshot.val();\r\n          if (data) {\r\n            const productArray = Object.values(data);\r\n\r\n            // Filter products based on the selected category\r\n            const filteredProducts = selectedCategory === 'Home'\r\n              ? productArray\r\n              : productArray.filter(product => product.category === selectedCategory);\r\n\r\n            setProducts(filteredProducts);\r\n\r\n            // Initialize hover states for each product to false\r\n            setHoverStates(filteredProducts.map(() => false));\r\n          }\r\n        } else {\r\n          // No data found\r\n          setProducts([]);\r\n          setHoverStates([]);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n  }, [selectedCategory]);\r\n\r\n  const handleAddToCartClick = (product, index) => {\r\n    addToCart(product);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={products}\r\n        keyExtractor={(item) => item.name}\r\n        numColumns={numColumns}\r\n        renderItem={({ item, index }) => (\r\n          <View style={styles.productCard}>\r\n            <Image source={{ uri: item.photo }} style={styles.productImage} />\r\n            <Text style={styles.productName}>{item.name}</Text>\r\n            <Text style={styles.productPrice}>INR {item.price}</Text>\r\n            <TouchableOpacity\r\n              style={[\r\n                styles.Button,\r\n                hoverStates[index] && {\r\n                  backgroundColor: 'orange',\r\n                  borderColor: 'white',\r\n                },\r\n              ]}\r\n              onPress={() => handleAddToCartClick(item, index)}\r\n              onPressIn={() => {\r\n                const updatedHoverStates = [...hoverStates];\r\n                updatedHoverStates[index] = true;\r\n                setHoverStates(updatedHoverStates);\r\n              }}\r\n              onPressOut={() => {\r\n                const updatedHoverStates = [...hoverStates];\r\n                updatedHoverStates[index] = false;\r\n                setHoverStates(updatedHoverStates);\r\n              }}\r\n            >\r\n              <Text style={{ fontWeight: '600', color: hoverStates[index] ? 'white' : 'black' }}>\r\n                Add To Cart\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 16,\r\n  },\r\n  productCard: {\r\n    flex: 1,\r\n    padding: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    margin: 2,\r\n  },\r\n  productImage: {\r\n    width: '100%',\r\n    height: 200,\r\n  },\r\n  productName: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    marginVertical: 10,\r\n  },\r\n  productPrice: {\r\n    fontSize: 16,\r\n  },\r\n  Button: {\r\n    marginTop: 4,\r\n    alignItems: 'center',\r\n    padding: 3,\r\n    borderRadius: 4,\r\n    borderWidth: 2,\r\n    borderColor: 'orange',\r\n    fontWeight: '700',\r\n  },\r\n});\r\n\r\nexport default ProductList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}